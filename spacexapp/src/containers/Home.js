import React, { useEffect, useState } from "react";
import Header from "../components/Header";
import Footer from "../components/Footer";
import {withRouter} from 'react-router-dom'

const Home = props => {
  const [info, setInfo] = useState([]);
  const [isLoading, setIsLoading] = useState(false)

  const {history} = props

  const goOtherPage = pageURL => {
    history.push(`/${pageURL}`)
  }

  useEffect(() => {
    const fetchRockets = async () => {
      const response = await fetch("https://api.spacexdata.com/v3/info");
      const data = await response.json();
      console.log(data);
      setInfo(data);
      setIsLoading(true);
    };
    fetchRockets();
  }, []);
  return (
    isLoading ?(
    <React.Fragment>
      <Header />
      <div
        className="container-fluid p-4 bg-dark text-light d-flex flex-column justify-content-center align-items-center"
        style={{ height: "80vh" }}
      >
        <div className="row">
          <div className="col-12 col-md-7 d-flex flex-column justify-content-center">
            <h3>{info.name}</h3>
            <p>{info.summary}</p>
            <div className="d-flex flex-row">
              <a href={info?.links?.website} className="m-2">
                <svg
                  x="0px"
                  y="0px"
                  viewBox="0 0 512 512"
                  width="30px"
                  height="30px"
                >
                  <g>
                    <path d="M246.857,455.835v-81.371c-18.648,0.835-37.077,4.354-54.72,10.45C204.626,423.022,224.448,449.966,246.857,455.835z" />
                    <path
                      d="M187.099,367.15c19.288-6.509,39.415-10.198,59.758-10.953v-54.482h-68.343
				C179.036,323.77,181.914,345.706,187.099,367.15z"
                    />
                    <path
                      d="M178.514,283.429h68.343v-54.482c-20.344-0.761-40.471-4.457-59.758-10.971
				C181.912,239.424,179.034,261.367,178.514,283.429z"
                    />
                    <path d="M246.857,210.651V129.28c-22.409,5.87-42.231,32.814-54.72,70.958C209.782,206.321,228.211,209.828,246.857,210.651z" />
                    <path d="M319.863,384.914c-17.644-6.086-36.074-9.597-54.72-10.423v81.371C287.552,449.966,307.374,423.022,319.863,384.914z" />
                    <path
                      d="M324.901,217.993c-19.288,6.509-39.415,10.198-59.758,10.953v54.482h68.343
				C332.964,261.373,330.086,239.437,324.901,217.993z"
                    />
                    <path
                      d="M333.486,301.714h-68.343v54.482c20.344,0.761,40.471,4.457,59.758,10.971
				C330.088,345.719,332.966,323.776,333.486,301.714z"
                    />
                    <path
                      d="M206.126,135.771c-23.73,7.618-45.42,20.526-63.433,37.751c9.979,7.828,20.816,14.496,32.302,19.877
				C181.491,172.333,192.069,152.752,206.126,135.771z"
                    />
                    <path
                      d="M142.693,411.621c18.013,17.224,39.703,30.133,63.433,37.751c-14.054-16.973-24.632-36.544-31.131-57.6
				C163.51,397.143,152.673,403.802,142.693,411.621z"
                    />
                    <path
                      d="M351.762,283.429h68.343c-1.901-35.49-15.303-69.396-38.181-96.594c-12.167,9.761-25.518,17.947-39.735,24.366
				C348.069,234.843,351.28,259.07,351.762,283.429z"
                    />
                    <path
                      d="M169.81,211.2c-14.216-6.413-27.566-14.593-39.735-24.347c-22.874,27.193-36.276,61.093-38.181,96.576h68.343
				C160.72,259.07,163.931,234.843,169.81,211.2z"
                    />
                    <path
                      d="M342.19,373.943c14.216,6.413,27.566,14.593,39.735,24.347c22.874-27.193,36.276-61.093,38.181-96.576h-68.343
				C351.28,326.073,348.069,350.3,342.19,373.943z"
                    />
                    <path
                      d="M305.874,449.371c23.73-7.618,45.42-20.526,63.433-37.751c-9.979-7.828-20.816-14.496-32.302-19.877
				C330.509,412.809,319.931,432.391,305.874,449.371z"
                    />
                    <path
                      d="M484.571,0H27.429C12.28,0,0,12.28,0,27.429v27.429h512V27.429C512,12.28,499.72,0,484.571,0z M45.714,36.571h-9.143
				c-5.049,0-9.143-4.093-9.143-9.143c0-5.049,4.093-9.143,9.143-9.143h9.143c5.049,0,9.143,4.093,9.143,9.143
				C54.857,32.478,50.764,36.571,45.714,36.571z M88.777,33.92c-0.889,0.807-1.91,1.456-3.017,1.92
				c-2.214,0.975-4.735,0.975-6.949,0c-1.108-0.464-2.128-1.113-3.017-1.92c-3.536-3.605-3.536-9.378,0-12.983
				c0.889-0.807,1.91-1.456,3.017-1.92c2.207-1.006,4.742-1.006,6.949,0c1.108,0.464,2.128,1.113,3.017,1.92
				C92.313,24.542,92.313,30.315,88.777,33.92z M127.269,30.903c-0.464,1.108-1.113,2.128-1.92,3.017
				c-3.605,3.536-9.378,3.536-12.983,0c-0.807-0.889-1.456-1.91-1.92-3.017c-0.976-2.213-0.976-4.735,0-6.949
				c0.464-1.108,1.113-2.128,1.92-3.017c2.616-2.637,6.567-3.43,9.998-2.006s5.658,4.783,5.637,8.497
				C128.032,28.628,127.781,29.818,127.269,30.903z M475.429,36.571H164.571c-5.049,0-9.143-4.093-9.143-9.143
				c0-5.049,4.093-9.143,9.143-9.143h310.857c5.049,0,9.143,4.093,9.143,9.143C484.571,32.478,480.478,36.571,475.429,36.571z"
                    />
                    <path d="M265.143,129.307v81.371c18.648-0.835,37.077-4.354,54.72-10.45C307.374,162.121,287.552,135.177,265.143,129.307z" />
                    <path
                      d="M0,484.571C0,499.72,12.28,512,27.429,512h457.143C499.72,512,512,499.72,512,484.571V73.143H0V484.571z
				 M121.225,169.362l0.037,0.018c0.223-0.467,0.486-0.913,0.786-1.335c0.417-0.388,0.874-0.731,1.362-1.024
				c34.401-36.559,82.372-57.289,132.571-57.289c50.199,0,98.171,20.73,132.571,57.289c0.489,0.293,0.945,0.636,1.362,1.024
				c0.3,0.421,0.563,0.868,0.786,1.335c64.159,69.597,64.159,176.785,0,246.382c-0.223,0.467-0.486,0.913-0.786,1.335
				c-0.397,0.344-0.826,0.65-1.28,0.914c-34.393,36.611-82.386,57.383-132.618,57.398c-50.232,0.016-98.238-20.727-132.653-57.316
				c-0.484-0.292-0.937-0.632-1.353-1.015c-0.3-0.421-0.563-0.868-0.786-1.335C57.066,346.147,57.066,238.959,121.225,169.362z"
                    />
                    <path
                      d="M169.81,373.943c-5.88-23.643-9.091-47.87-9.573-72.229H91.895c1.901,35.49,15.303,69.396,38.181,96.594
				C142.243,388.548,155.593,380.361,169.81,373.943z"
                    />
                    <path
                      d="M369.307,173.522c-18.013-17.224-39.703-30.133-63.433-37.751c14.054,16.973,24.632,36.544,31.131,57.6
				C348.49,188,359.327,181.341,369.307,173.522z"
                    />
                  </g>
                </svg>
              </a>
              <a href={info.links.twitter} className="m-2">
                <svg
                  x="0px"
                  y="0px"
                  viewBox="0 0 504.4 504.4"
                  width="30px"
                  height="30px"
                >
                  <path
                    d="M377.6,0.2H126.4C56.8,0.2,0,57,0,126.6v251.6c0,69.2,56.8,126,126.4,126H378c69.6,0,126.4-56.8,126.4-126.4V126.6
			C504,57,447.2,0.2,377.6,0.2z M377.2,189c0,2.8,0,5.6,0,8.4c0,84-64.8,180.8-183.6,180.8c-36.4,0-70.4-10.4-98.8-28.4
			c5.2,0.4,10,0.8,15.2,0.8c30.4,0,58-10,80-27.2c-28.4-0.4-52-18.8-60.4-44c4,0.8,8,1.2,12,1.2c6,0,12-0.8,17.2-2.4
			c-28.8-6-50.8-31.6-50.8-62.4V215c8,4.8,18.4,7.6,28.8,8c-17.2-11.2-28.8-30.8-28.8-52.8c0-11.6,3.2-22.4,8.8-32
			c32,38.4,79.2,63.6,132.8,66.4c-1.2-4.8-1.6-9.6-1.6-14.4c0-35.2,28.8-63.6,64.4-63.6c18.4,0,35.2,7.6,47.2,20
			c14.8-2.8,28.4-8,40.8-15.6c-4.8,14.8-15.2,27.2-28.4,35.2c13.2-1.6,25.6-4.8,37.2-10C400.4,169,389.6,180.2,377.2,189z"
                  />
                </svg>
              </a>
              <a href={info.links.flickr} className="m-2">
                <svg
                  x="0px"
                  y="0px"
                  viewBox="0 0 438.536 438.536"
                  width="30px"
                  height="30px"
                >
                  <path
                    d="M414.41,24.123C398.333,8.042,378.963,0,356.315,0H82.228C59.58,0,40.21,8.042,24.126,24.123
		C8.045,40.207,0.003,59.576,0.003,82.225v274.084c0,22.647,8.042,42.018,24.123,58.102c16.084,16.084,35.454,24.126,58.102,24.126
		h274.084c22.648,0,42.018-8.042,58.095-24.126c16.084-16.084,24.126-35.454,24.126-58.102V82.225
		C438.532,59.576,430.49,40.207,414.41,24.123z M181.585,262.093c-11.803,11.804-26.075,17.706-42.827,17.706
		c-16.75,0-31.024-5.902-42.825-17.706c-11.799-11.8-17.701-26.073-17.701-42.826c0-16.755,5.898-31.027,17.701-42.827
		c11.798-11.801,26.075-17.703,42.825-17.703c16.751,0,31.023,5.902,42.827,17.703c11.798,11.799,17.699,26.072,17.699,42.827
		C199.284,236.013,193.383,250.293,181.585,262.093z M342.603,262.093c-11.793,11.804-26.07,17.706-42.825,17.706
		c-16.748,0-31.024-5.902-42.831-17.706c-11.793-11.8-17.699-26.073-17.699-42.826c0-16.755,5.906-31.027,17.699-42.827
		c11.807-11.801,26.08-17.703,42.831-17.703c16.748,0,31.025,5.902,42.825,17.703c11.8,11.799,17.706,26.072,17.706,42.827
		C360.309,236.013,354.402,250.293,342.603,262.093z"
                  />
                </svg>
              </a>
            </div>
          </div>
          <div
            className="col-12 col-md-5 text-secondary d-flex justify-content-end align-items-end"
            style={{ height: "70vh" }}
          >
            <div className="row">
              <div className="col-12 col-md-6">
                <h5>Company Info</h5>
                <small className="my-1">
                  <b>Founder:</b> {info.founder}
                  <br></br>
                  <b>CEO:</b> {info.ceo}
                  <br></br>
                  <b>CTO:</b> {info.cto}
                  <br></br>
                  <b>COO:</b> {info.coo}
                  <br></br>
                  <b>CTO_PROPULSION:</b> {info.cto_propulsion}
                </small>
              </div>
              <div className="col-12 col-md-6">
                <h5>Address Info</h5>
                <small className="my-1">
                  <b>Address:</b> {info.headquarters.address}
                  <br></br>
                  <b>City:</b> {info.headquarters.city}
                  <br></br>
                  <b>State:</b> {info.headquarters.state}
                </small>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div
        className="container-fluid p-4 bg-secondary text-dark"
        style={{ height: "40vh" }}
      >
          <div className="card m-4 w-50 p-2">
          <h3>Rocket Page</h3>
          <button className="btn btn-dark text-light my-auto" onClick={() => goOtherPage('rocket')}>Go to page</button>
          </div>
          <div className="card m-4 w-50 p-2">
          <h3>Launch Page</h3>
          <button className="btn btn-dark text-light my-auto" onClick={() => goOtherPage('launch')}>Go to page</button>
          </div>
      </div>
      <Footer />
    </React.Fragment>):null
  );
};

export default withRouter(Home);
